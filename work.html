<html>
<head>
    
<meta charset="UTF-8">
<script type="text/javascript">


window.addEventListener('DOMContentLoaded', function() {

    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
    window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;
 
    if (navigator.getUserMedia) {
        navigator.getUserMedia({video: true,audio: true}, successCallback, errorCallback);
    } else {
        console.log('getUserMedia not supported in this browser.');
    }

 
    function successCallback(stream) {

        var video = document.querySelector('video');
       
        if (video.mozSrcObject !== undefined) {
            video.mozSrcObject = stream;
        } else {
            video.src = (window.URL && window.URL.createObjectURL(stream)) || stream;
        }
        video.play();
    }
 
    function errorCallback(error) {
        console.error("Error Occured" + error);

    }
}, false);


</script>   
</head>

<body>
    
<video width="300px" height="300px"> </video>

</body>
</html>